<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Support - MyDriftLAB</title>
<meta name="description" content="Get help with MyDriftLAB. Contact our support team for questions about sleep tracking, subscriptions, or technical issues.">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400&family=Outfit:wght@300;400;500;600&family=IBM+Plex+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root {
  --deep: #0B0E14;
  --navy: #121827;
  --surface: #1A2035;
  --surface-light: #222942;
  --lavender: #B8A0D2;
  --lavender-light: #CDB8E6;
  --lavender-dim: rgba(184,160,210,0.08);
  --lavender-glow: rgba(184,160,210,0.15);
  --rose: #D4858A;
  --rose-light: #E09DA2;
  --cream: #F0EBE0;
  --cream-muted: rgba(240,235,224,0.6);
  --cream-dim: rgba(240,235,224,0.3);
  --cream-faint: rgba(240,235,224,0.08);
  --border: rgba(240,235,224,0.06);
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Outfit', sans-serif;
  background: var(--deep);
  color: var(--cream);
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.02'/%3E%3C/svg%3E");
  line-height: 1.7;
  min-height: 100vh;
}

.top-bar {
  position: fixed; top: 0; left: 0; right: 0; z-index: 100;
  background: rgba(11,14,20,0.9); backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border);
  padding: 16px 40px;
  display: flex; justify-content: space-between; align-items: center;
}
.logo { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 400; text-decoration: none; color: var(--cream); }
.logo span { color: var(--lavender); font-weight: 700; }
.logo em { font-style: italic; font-weight: 400; color: var(--cream-muted); }
.nav-links { display: flex; gap: 24px; }
.nav-links a { color: var(--cream-muted); text-decoration: none; font-size: 13px; font-weight: 300; transition: color 0.3s; }
.nav-links a:hover { color: var(--lavender); }
.nav-links a.active { color: var(--lavender); }

.container {
  max-width: 640px;
  margin: 0 auto;
  padding: 120px 24px 80px;
}

.page-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 42px;
  font-weight: 300;
  text-shadow: 0 0 30px rgba(184,160,210,0.15);
  margin-bottom: 8px;
}
.page-sub {
  font-size: 15px;
  font-weight: 300;
  color: var(--cream-muted);
  margin-bottom: 40px;
  line-height: 1.8;
}

/* FAQ Section */
.faq-section {
  margin-bottom: 48px;
}
.faq-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 24px;
  font-weight: 500;
  color: var(--lavender);
  margin-bottom: 20px;
}
.faq-item {
  border-bottom: 1px solid var(--border);
  padding: 16px 0;
  cursor: pointer;
}
.faq-question {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 14px;
  font-weight: 400;
  color: var(--cream);
  transition: color 0.3s;
}
.faq-question:hover { color: var(--lavender); }
.faq-arrow {
  font-size: 18px;
  color: var(--cream-dim);
  transition: transform 0.3s, color 0.3s;
}
.faq-item.open .faq-arrow { transform: rotate(45deg); color: var(--lavender); }
.faq-answer {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, padding 0.3s ease;
  font-size: 13px;
  font-weight: 300;
  color: var(--cream-muted);
  line-height: 1.8;
}
.faq-item.open .faq-answer {
  max-height: 200px;
  padding-top: 12px;
}

/* Divider */
.divider {
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(184,160,210,0.15), transparent);
  margin: 40px 0;
}

/* Form */
.form-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 24px;
  font-weight: 500;
  color: var(--lavender);
  margin-bottom: 8px;
}
.form-sub {
  font-size: 13px;
  color: var(--cream-dim);
  margin-bottom: 28px;
}

.form-group {
  margin-bottom: 20px;
}
.form-label {
  display: block;
  font-size: 12px;
  font-weight: 500;
  color: var(--cream-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}
.form-input,
.form-select,
.form-textarea {
  width: 100%;
  background: var(--surface);
  border: 1px solid rgba(240,235,224,0.08);
  border-radius: 10px;
  padding: 14px 16px;
  font-family: 'Outfit', sans-serif;
  font-size: 14px;
  font-weight: 300;
  color: var(--cream);
  outline: none;
  transition: border-color 0.3s, box-shadow 0.3s;
  -webkit-appearance: none;
}
.form-input::placeholder,
.form-textarea::placeholder {
  color: var(--cream-dim);
}
.form-input:focus,
.form-select:focus,
.form-textarea:focus {
  border-color: rgba(184,160,210,0.4);
  box-shadow: 0 0 0 3px rgba(184,160,210,0.08);
}
.form-select {
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23B8A0D2' stroke-width='1.5' fill='none'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 16px center;
  padding-right: 40px;
}
.form-select option {
  background: var(--navy);
  color: var(--cream);
}
.form-textarea {
  min-height: 140px;
  resize: vertical;
}
.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.submit-btn {
  width: 100%;
  padding: 16px;
  border: none;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--lavender), var(--rose));
  color: var(--deep);
  font-family: 'Outfit', sans-serif;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: opacity 0.3s, transform 0.15s;
  margin-top: 8px;
}
.submit-btn:hover { opacity: 0.9; }
.submit-btn:active { transform: scale(0.98); }
.submit-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

/* Success State */
.success-message {
  display: none;
  text-align: center;
  padding: 40px 20px;
}
.success-icon {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: rgba(184,160,210,0.1);
  border: 2px solid var(--lavender);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 20px;
  font-size: 28px;
}
.success-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 28px;
  font-weight: 400;
  margin-bottom: 8px;
}
.success-sub {
  font-size: 14px;
  font-weight: 300;
  color: var(--cream-muted);
  line-height: 1.7;
}

/* Direct Contact */
.direct-contact {
  text-align: center;
  margin-top: 48px;
  padding: 24px;
  border-radius: 12px;
  background: var(--lavender-dim);
  border: 1px solid var(--border);
}
.direct-contact p {
  font-size: 13px;
  color: var(--cream-dim);
  font-weight: 300;
}
.direct-contact a {
  color: var(--lavender);
  text-decoration: none;
  font-weight: 400;
}
.direct-contact a:hover { text-decoration: underline; }

.footer {
  text-align: center;
  padding: 40px 24px;
  border-top: 1px solid var(--border);
  font-size: 12px;
  color: var(--cream-dim);
}
.footer a { color: var(--lavender); text-decoration: none; }

@media (max-width: 600px) {
  .top-bar { padding: 14px 16px; }
  .container { padding: 100px 16px 60px; }
  .page-title { font-size: 32px; }
  .form-row { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<div class="top-bar">
  <a href="/" class="logo"><span>MyDrift</span><em>LAB</em></a>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/terms">Terms</a>
    <a href="/privacy">Privacy</a>
    <a href="/support" class="active">Support</a>
  </div>
</div>

<div class="container">
  <h1 class="page-title">How can we help?</h1>
  <p class="page-sub">We typically respond within 24 hours.</p>

  <!-- FAQ -->
  <div class="faq-section">
    <h2 class="faq-title">Common Questions</h2>

    <div class="faq-item" onclick="this.classList.toggle('open')">
      <div class="faq-question">Does MyDriftLAB record my voice or conversations? <span class="faq-arrow">+</span></div>
      <div class="faq-answer">No. MyDriftLAB never records, stores, or transmits audio. The microphone is used only to measure ambient noise levels (decibels). Only numeric data like timestamps and volume levels are saved. Raw audio never leaves your device.</div>
    </div>

    <div class="faq-item" onclick="this.classList.toggle('open')">
      <div class="faq-question">Do I need an Apple Watch? <span class="faq-arrow">+</span></div>
      <div class="faq-answer">No. MyDriftLAB works with just your phone. If you do have an Apple Watch, MyDriftLAB can read your health data to show how your body responded to noise events during the night. But it is completely optional.</div>
    </div>

    <div class="faq-item" onclick="this.classList.toggle('open')">
      <div class="faq-question">How much battery does overnight monitoring use? <span class="faq-arrow">+</span></div>
      <div class="faq-answer">About 18-20% for an 8-hour session. We recommend plugging in your phone before starting a sleep session for the best experience.</div>
    </div>

    <div class="faq-item" onclick="this.classList.toggle('open')">
      <div class="faq-question">How do I cancel my Pro subscription? <span class="faq-arrow">+</span></div>
      <div class="faq-answer">Go to your iPhone Settings, tap your name at the top, then Subscriptions, find MyDriftLAB, and tap Cancel Subscription. You will keep Pro access until the end of your current billing period.</div>
    </div>

    <div class="faq-item" onclick="this.classList.toggle('open')">
      <div class="faq-question">What does the Rest Score mean? <span class="faq-arrow">+</span></div>
      <div class="faq-answer">Your Rest Score (0-100) reflects how peaceful your sleep environment was. Fewer noise disruptions, stable conditions, and minimal restlessness result in a higher score. With Apple Watch, your body's response is factored in too.</div>
    </div>
  </div>

  <div class="divider"></div>

  <!-- Contact Form -->
  <div id="formSection">
    <h2 class="form-title">Send us a message</h2>
    <p class="form-sub">Fill out the form below and we will get back to you.</p>

    <form id="supportForm" onsubmit="handleSubmit(event)">
      <div class="form-row">
        <div class="form-group">
          <label class="form-label" for="name">Name</label>
          <input class="form-input" type="text" id="name" name="name" placeholder="Your name" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="email">Email</label>
          <input class="form-input" type="email" id="email" name="email" placeholder="you@email.com" required>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label" for="topic">Topic</label>
        <select class="form-select" id="topic" name="topic" required>
          <option value="" disabled selected>Select a topic</option>
          <option value="account">Account & Login</option>
          <option value="subscription">Subscription & Billing</option>
          <option value="recording">Sleep Monitoring</option>
          <option value="healthkit">Apple Watch & HealthKit</option>
          <option value="content">Content (Stories, Sounds, Meditations)</option>
          <option value="bug">Bug Report</option>
          <option value="feature">Feature Request</option>
          <option value="privacy">Privacy & Data</option>
          <option value="other">Other</option>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label" for="message">Message</label>
        <textarea class="form-textarea" id="message" name="message" placeholder="Tell us what's going on..." required></textarea>
      </div>

      <button type="submit" class="submit-btn" id="submitBtn">Send Message</button>
    </form>
  </div>

  <!-- Success -->
  <div class="success-message" id="successMessage">
    <div class="success-icon">&#10003;</div>
    <h3 class="success-title">Message sent</h3>
    <p class="success-sub">We have received your message and will respond within 24 hours. Check your email for a confirmation.</p>
  </div>

  <div class="direct-contact">
    <p>Prefer email? Reach us directly at <a href="mailto:support@mydriftlab.com">support@mydriftlab.com</a></p>
  </div>
</div>

<div class="footer">
  &copy; 2026 SLTR Digital LLC. All rights reserved. | <a href="/terms">Terms</a> | <a href="/privacy">Privacy</a>
</div>

<script>
// FAQ toggle is handled inline with onclick

// Form submission
async function handleSubmit(e) {
  e.preventDefault();
  const btn = document.getElementById('submitBtn');
  btn.disabled = true;
  btn.textContent = 'Sending...';

  const formData = {
    name: document.getElementById('name').value,
    email: document.getElementById('email').value,
    topic: document.getElementById('topic').value,
    message: document.getElementById('message').value,
    timestamp: new Date().toISOString()
  };

  try {
    // Send to your API endpoint
    // Replace this URL with your actual Lambda/API Gateway endpoint
    const response = await fetch('https://api.mydriftlab.com/support', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(formData)
    });

    // Show success regardless for now (swap to response check when API is live)
    document.getElementById('formSection').style.display = 'none';
    document.getElementById('successMessage').style.display = 'block';
  } catch (err) {
    // Fallback: open mailto with pre-filled info
    const subject = encodeURIComponent(`[${formData.topic}] Support Request from ${formData.name}`);
    const body = encodeURIComponent(`Name: ${formData.name}\nEmail: ${formData.email}\nTopic: ${formData.topic}\n\n${formData.message}`);
    window.location.href = `mailto:support@mydriftlab.com?subject=${subject}&body=${body}`;

    btn.disabled = false;
    btn.textContent = 'Send Message';
  }
}
</script>

</body>
</html>
